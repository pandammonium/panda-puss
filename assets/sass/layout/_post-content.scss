@use 'sass:string';
@use 'article';

@mixin post-content($content-type) {

  // @debug "content type: #{$content-type}";

  $article: "\"article\"";

  $grid-areas: #{$article};
  @if $content-type == "content" {
    $single-nav: "\"navigation_single\"";
    $single-comments: "\"post-comments\"";
    $grid-areas: #{$grid-areas} + " "  + #{$single-nav} + " "  + #{$single-comments};
  } @else if $content-type == 'excerpt' {
  } @else {
    @error "Unknown post content type";
  }
  // @debug "grid: #{$grid-areas}";

  // @debug "#{&}";

  & {
    // background-color: red;
    // border: 1px solid red;
    // Grid container
    display: grid;
    gap: 0;
    grid-template-columns: 100%;
    grid-template-rows: auto;
    grid-template-areas: #{$grid-areas};
    column-gap: calc(2 * var(--pp--space--hor));
    row-gap: calc(1 * var(--pp--space--ver));
    // End of grid container

    .pp-individual {
      // background-color: palegoldenrod;
      // border: 1px solid palegoldenrod;
      // Grid item
      grid-area: article;
      // End of grid item
      @include article.article($content-type);
    }

    // Single post/page comments
    .pp-comments {
      // background-color: darkmagenta;
      // border: 1px solid darkmagenta;
      // Grid item
      grid-area: post-comments;
      // End of grid item
    }
    // End of single post/page comments

    // Single post/page navigation
    .pp-navigation_single.wp-block-template-part {
      // background-color: deeppink;
      // border: 1px solid deeppink;
      // Grid item
      grid-area: navigation_single;
      // End of grid item
      // Grid container
      display: grid;
      gap: 0 0;
      grid-template-columns: 50% 50%;
      grid-template-rows: auto;
      grid-template-areas:
        "navigation_single-link-previous navigation_single-link-next";
      // End of grid container
      .pp-navigation-previous {
        // background-color: lightblue;
        // Grid item
        grid-area: navigation_single-link-previous;
        place-self: center start;
        // End of grid item
      }
      .pp-navigation-next {
        // background-color: lightgreen;
        // Grid item
        grid-area: navigation_single-link-next;
        place-self: center end;
        // End of grid item
      }
    }
    // End of single post/page navigation
  }
} // End of @mixin post-content
